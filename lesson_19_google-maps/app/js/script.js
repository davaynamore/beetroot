"use strict";

var navForm = document.getElementById('navigator');
var addressFrom = document.getElementById('addressFrom');
var addressTo = document.getElementById('addressTo');
var drivingMode = document.getElementById('drivingMode');
var map;
var directionsService;
var directionsDisplay;
var markersArray = [];
navForm.addEventListener('submit', function (e) {
  e.preventDefault();
  clearOverlays();
  var start = addressFrom.value;
  var end = addressTo.value;
  var mode = drivingMode.value;
  start && end ? calcRoute(start, end, mode) : start ? findPoint(start) : end ? findPoint(end) : alert('Enter address');
});

function initMap() {
  directionsService = new google.maps.DirectionsService();
  directionsDisplay = new google.maps.DirectionsRenderer();
  var krem = {
    lat: 49.062785,
    lng: 33.4156805
  };
  map = new google.maps.Map(document.getElementById('map'), {
    zoom: 7,
    center: krem
  });
  directionsDisplay.setMap(map);
}

function findPoint(address) {
  var geocoder = new google.maps.Geocoder();
  var infowindow = new google.maps.InfoWindow();
  geocoder.geocode({
    'address': address
  }, function (results, status) {
    if (status == 'OK') {
      map.zoom = 12;
      map.setCenter(results[0].geometry.location);
      var marker = addMarker(results[0].geometry.location);
      infowindow.setContent(results[0].formatted_address);
      infowindow.open(map, marker);
    } else {
      console.log('Geocode was not successful for the following reason: ' + status);
    }
  });
}

function calcRoute(start, end, drivingMode) {
  directionsDisplay.setMap(map);
  var request = {
    origin: start,
    destination: end,
    travelMode: drivingMode
  };
  directionsService.route(request, function (result, status) {
    if (status == 'OK') {
      directionsDisplay.setDirections(result);
    }
  });
}

function addMarker(location) {
  var marker = new google.maps.Marker({
    position: location,
    map: map
  });
  markersArray.push(marker);
  return marker;
} // Removes the overlays from the map, but keeps them in the array


function clearOverlays() {
  directionsDisplay.setMap(null);

  if (markersArray) {
    for (var i in markersArray) {
      markersArray[i].setMap(null);
    }
  }
} // Shows any overlays currently in the array


function showOverlays() {
  if (markersArray) {
    for (var i in markersArray) {
      markersArray[i].setMap(map);
    }
  }
} // Deletes all markers in the array by removing references to them


function deleteOverlays() {
  if (markersArray) {
    for (var i in markersArray) {
      markersArray[i].setMap(null);
    }

    markersArray.length = 0;
  }
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJuYXZGb3JtIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFkZHJlc3NGcm9tIiwiYWRkcmVzc1RvIiwiZHJpdmluZ01vZGUiLCJtYXAiLCJkaXJlY3Rpb25zU2VydmljZSIsImRpcmVjdGlvbnNEaXNwbGF5IiwibWFya2Vyc0FycmF5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImNsZWFyT3ZlcmxheXMiLCJzdGFydCIsInZhbHVlIiwiZW5kIiwibW9kZSIsImNhbGNSb3V0ZSIsImZpbmRQb2ludCIsImFsZXJ0IiwiaW5pdE1hcCIsImdvb2dsZSIsIm1hcHMiLCJEaXJlY3Rpb25zU2VydmljZSIsIkRpcmVjdGlvbnNSZW5kZXJlciIsImtyZW0iLCJsYXQiLCJsbmciLCJNYXAiLCJ6b29tIiwiY2VudGVyIiwic2V0TWFwIiwiYWRkcmVzcyIsImdlb2NvZGVyIiwiR2VvY29kZXIiLCJpbmZvd2luZG93IiwiSW5mb1dpbmRvdyIsImdlb2NvZGUiLCJyZXN1bHRzIiwic3RhdHVzIiwic2V0Q2VudGVyIiwiZ2VvbWV0cnkiLCJsb2NhdGlvbiIsIm1hcmtlciIsImFkZE1hcmtlciIsInNldENvbnRlbnQiLCJmb3JtYXR0ZWRfYWRkcmVzcyIsIm9wZW4iLCJjb25zb2xlIiwibG9nIiwicmVxdWVzdCIsIm9yaWdpbiIsImRlc3RpbmF0aW9uIiwidHJhdmVsTW9kZSIsInJvdXRlIiwicmVzdWx0Iiwic2V0RGlyZWN0aW9ucyIsIk1hcmtlciIsInBvc2l0aW9uIiwicHVzaCIsImkiLCJzaG93T3ZlcmxheXMiLCJkZWxldGVPdmVybGF5cyIsImxlbmd0aCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNQSxPQUFPLEdBQUdDLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixXQUF4QixDQUFoQjtBQUNBLElBQU1DLFdBQVcsR0FBR0YsUUFBUSxDQUFDQyxjQUFULENBQXdCLGFBQXhCLENBQXBCO0FBQ0Es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Y3BELFlBQWQsRUFBNEI7QUFDM0JBLE1BQUFBLFlBQVksQ0FBQ29ELENBQUQsQ0FBWixDQUFnQjdCLE1BQWhCLENBQXVCMUIsR0FBdkI7QUFDQTtBQUNEO0FBQ0QsQyxDQUVEOzs7QUFDQSxTQUFTeUQsY0FBVCxHQUEwQjtBQUN6QixNQUFJdEQsWUFBSixFQUFrQjtBQUNqQixTQUFLLElBQUlvRCxDQUFULElBQWNwRCxZQUFkLEVBQTRCO0FBQzNCQSxNQUFBQSxZQUFZLENBQUNvRCxDQUFELENBQVosQ0FBZ0I3QixNQUFoQixDQUF1QixJQUF2QjtBQUNBOztBQUNEdkIsSUFBQUEsWUFBWSxDQUFDdUQsTUFBYixHQUFzQixDQUF0QjtBQUNBO0FBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBuYXZGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdmlnYXRvcicpO1xyXG5jb25zdCBhZGRyZXNzRnJvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRyZXNzRnJvbScpO1xyXG5jb25zdCBhZGRyZXNzVG8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkcmVzc1RvJyk7XHJcbmNvbnN0IGRyaXZpbmdNb2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RyaXZpbmdNb2RlJyk7XHJcbmxldCBtYXA7XHJcbmxldCBkaXJlY3Rpb25zU2VydmljZTtcclxubGV0IGRpcmVjdGlvbnNEaXNwbGF5O1xyXG5jb25zdCBtYXJrZXJzQXJyYXkgPSBbXTtcclxuXHJcbm5hdkZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0Y2xlYXJPdmVybGF5cygpO1xyXG5cdGNvbnN0IHN0YXJ0ID0gYWRkcmVzc0Zyb20udmFsdWU7XHJcblx0Y29uc3QgZW5kID0gYWRkcmVzc1RvLnZhbHVlO1xyXG5cdGNvbnN0IG1vZGUgPSBkcml2aW5nTW9kZS52YWx1ZTtcclxuXHRzdGFydCAmJiBlbmQgPyBjYWxjUm91dGUoc3RhcnQsIGVuZCwgbW9kZSkgOiBzdGFydCA/IGZpbmRQb2ludChzdGFydCkgOiAgZW5kID8gZmluZFBvaW50KGVuZCkgOiBhbGVydCgnRW50ZXIgYWRkcmVzcycpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGluaXRNYXAoKSB7XHJcblx0ZGlyZWN0aW9uc1NlcnZpY2UgPSBuZXcgZ29vZ2xlLm1hcHMuRGlyZWN0aW9uc1NlcnZpY2UoKTtcclxuXHRkaXJlY3Rpb25zRGlzcGxheSA9IG5ldyBnb29nbGUubWFwcy5EaXJlY3Rpb25zUmVuZGVyZXIoKTtcclxuXHRjb25zdCBrcmVtID0ge2xhdDogNDkuMDYyNzg1LCBsbmc6IDMzLjQxNTY4MDV9O1xyXG5cdG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpLCB7em9vbTogNywgY2VudGVyOiBrcmVtfSk7XHJcblx0ZGlyZWN0aW9uc0Rpc3BsYXkuc2V0TWFwKG1hcCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbmRQb2ludChhZGRyZXNzKSB7XHJcblx0Y29uc3QgZ2VvY29kZXIgPSBuZXcgZ29vZ2xlLm1hcHMuR2VvY29kZXIoKTtcclxuXHRjb25zdCBpbmZvd2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3c7XHJcblx0Z2VvY29kZXIuZ2VvY29kZSggeyAnYWRkcmVzcyc6IGFkZHJlc3N9LCBmdW5jdGlvbihyZXN1bHRzLCBzdGF0dXMpIHtcclxuXHRcdGlmIChzdGF0dXMgPT0gJ09LJykge1xyXG5cdFx0XHRtYXAuem9vbSA9IDEyO1xyXG5cdFx0XHRtYXAuc2V0Q2VudGVyKHJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb24pO1xyXG5cdFx0XHRjb25zdCBtYXJrZXIgPSBhZGRNYXJrZXIocmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbilcclxuXHRcdFx0aW5mb3dpbmRvdy5zZXRDb250ZW50KHJlc3VsdHNbMF0uZm9ybWF0dGVkX2FkZHJlc3MpO1xyXG5cdFx0XHRpbmZvd2luZG93Lm9wZW4obWFwLCBtYXJrZXIpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y29uc29sZS5sb2coJ0dlb2NvZGUgd2FzIG5vdCBzdWNjZXNzZnVsIGZvciB0aGUgZm9sbG93aW5nIHJlYXNvbjogJyArIHN0YXR1cyk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNhbGNSb3V0ZShzdGFydCwgZW5kLCBkcml2aW5nTW9kZSkge1xyXG5cdGRpcmVjdGlvbnNEaXNwbGF5LnNldE1hcChtYXApO1xyXG5cdHZhciByZXF1ZXN0ID0ge1xyXG5cdFx0b3JpZ2luOiBzdGFydCxcclxuXHRcdGRlc3RpbmF0aW9uOiBlbmQsXHJcblx0XHR0cmF2ZWxNb2RlOiBkcml2aW5nTW9kZVxyXG5cdH07XHJcblx0ZGlyZWN0aW9uc1NlcnZpY2Uucm91dGUocmVxdWVzdCwgZnVuY3Rpb24ocmVzdWx0LCBzdGF0dXMpIHtcclxuXHRcdGlmIChzdGF0dXMgPT0gJ09LJykge1xyXG5cdFx0XHRkaXJlY3Rpb25zRGlzcGxheS5zZXREaXJlY3Rpb25zKHJlc3VsdCk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZE1hcmtlcihsb2NhdGlvbikge1xyXG5cdGNvbnN0IG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG5cdFx0cG9zaXRpb246IGxvY2F0aW9uLFxyXG5cdFx0bWFwOiBtYXBcclxuXHR9KTtcclxuXHRtYXJrZXJzQXJyYXkucHVzaChtYXJrZXIpO1xyXG5cdHJldHVybiBtYXJrZXI7XHJcbn1cclxuXHJcbi8vIFJlbW92ZXMgdGhlIG92ZXJsYXlzIGZyb20gdGhlIG1hcCwgYnV0IGtlZXBzIHRoZW0gaW4gdGhlIGFycmF5XHJcbmZ1bmN0aW9uIGNsZWFyT3ZlcmxheXMoKSB7XHJcblx0ZGlyZWN0aW9uc0Rpc3BsYXkuc2V0TWFwKG51bGwpO1xyXG5cdGlmIChtYXJrZXJzQXJyYXkpIHtcclxuXHRcdGZvciAobGV0IGkgaW4gbWFya2Vyc0FycmF5KSB7XHJcblx0XHRcdG1hcmtlcnNBcnJheVtpXS5zZXRNYXAobnVsbCk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG4vLyBTaG93cyBhbnkgb3ZlcmxheXMgY3VycmVudGx5IGluIHRoZSBhcnJheVxyXG5mdW5jdGlvbiBzaG93T3ZlcmxheXMoKSB7XHJcblx0aWYgKG1hcmtlcnNBcnJheSkge1xyXG5cdFx0Zm9yIChsZXQgaSBpbiBtYXJrZXJzQXJyYXkpIHtcclxuXHRcdFx0bWFya2Vyc0FycmF5W2ldLnNldE1hcChtYXApO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuLy8gRGVsZXRlcyBhbGwgbWFya2VycyBpbiB0aGUgYXJyYXkgYnkgcmVtb3ZpbmcgcmVmZXJlbmNlcyB0byB0aGVtXHJcbmZ1bmN0aW9uIGRlbGV0ZU92ZXJsYXlzKCkge1xyXG5cdGlmIChtYXJrZXJzQXJyYXkpIHtcclxuXHRcdGZvciAobGV0IGkgaW4gbWFya2Vyc0FycmF5KSB7XHJcblx0XHRcdG1hcmtlcnNBcnJheVtpXS5zZXRNYXAobnVsbCk7XHJcblx0XHR9XHJcblx0XHRtYXJrZXJzQXJyYXkubGVuZ3RoID0gMDtcclxuXHR9XHJcbn0iXSwiZmlsZSI6InNjcmlwdC5qcyJ9
